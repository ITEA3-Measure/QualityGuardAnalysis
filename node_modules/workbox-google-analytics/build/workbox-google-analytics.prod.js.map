{"version":3,"names":[],"mappings":"","sources":["packages/workbox-google-analytics/browser.mjs"],"sourcesContent":["this.workbox=this.workbox||{},this.workbox.googleAnalytics=function(e,n,t,o,r,c,s){\"use strict\";try{self.workbox.v[\"workbox:google-analytics:3.0.0-alpha.6\"]=1}catch(e){}const i=\"www.google-analytics.com\",l=/^\\/(\\w+\\/)?collect/,a=(()=>{var e=babelHelpers.asyncToGenerator(function*(e){return yield new Promise(function(n,t){const o=new FileReader;o.onloadend=function(){return n(o.result)},o.onerror=function(){return t(o.error)},o.readAsText(e)})});return function(n){return e.apply(this,arguments)}})(),u=e=>(()=>{var n=babelHelpers.asyncToGenerator(function*({url:n,timestamp:t,requestInit:o}){n=new URL(n);let r;if(o.body){const e=yield a(o.body);r=new URLSearchParams(e)}else r=n.searchParams;const c=Date.now()-t;if(r.set(\"qt\",c),e.parameterOverrides)for(const n of Object.keys(e.parameterOverrides)){const t=e.parameterOverrides[n];r.set(n,t)}\"function\"==typeof e.hitFilter&&e.hitFilter.call(null,r),o.body=r.toString(),o.method=\"POST\",o.mode=\"cors\",o.credentials=\"omit\",o.headers='[[\"Content-Type\", \"text/plain\"]]',o.url=`${n.origin}${n.pathname}`});return function(e){return n.apply(this,arguments)}})();return e.initialize=((e={})=>{const a=t.cacheNames.getGoogleAnalyticsName(e.cacheName),w=new n.Plugin(\"workbox-google-analytics\",{maxRetentionTime:1728e5,callbacks:{requestWillReplay:u(e)}}),f=[(e=>{const n=new c.NetworkFirst({cacheName:e});return new o.Route(({url:e})=>e.hostname===i&&\"/analytics.js\"===e.pathname,n,\"GET\")})(a),(e=>{const n=new c.NetworkFirst({cacheName:e});return new o.Route(({url:e})=>\"www.googletagmanager.com\"===e.hostname&&\"/gtag/js\"===e.pathname,n,\"GET\")})(a),...(e=>{const n=({url:e})=>e.hostname===i&&l.test(e.pathname),t=new s.NetworkOnly({plugins:[e]});return[new o.Route(n,t,\"GET\"),new o.Route(n,t,\"POST\")]})(w)],b=new r.Router;for(const e of f)b.registerRoute(e);self.addEventListener(\"fetch\",e=>{const n=b.handleRequest(e);n&&e.respondWith(n)})}),e}({},workbox.backgroundSync,workbox.core._private,workbox.routing,workbox.routing,workbox.strategies,workbox.strategies);\n"],"file":"workbox-google-analytics.prod.js"}