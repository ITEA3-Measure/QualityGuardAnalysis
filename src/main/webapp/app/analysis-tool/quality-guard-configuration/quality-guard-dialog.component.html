<form  [formGroup]="form" name="editForm" role="form" novalidate #editForm="ngForm">
    <div class="modal-header">
        <h4 class="modal-title" id="myQualityGuardLabel">Create or edit a Quality Guard </h4>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" (click)="clear()">&times;</button>
    </div>
    <div class="modal-body">
        <jhi-alert-error></jhi-alert-error>
        <div class="form-group" [hidden]="!qualityGuard.id">
            <label for="id">ID</label>
            <input type="text" class="form-control" id="id" name="id" readonly [(ngModel)]="qualityGuard.id" [ngModelOptions]="{standalone: true}" />
        </div>
        <div class="form-group">
            <label class="form-control-label" for="field_qualityGuardName">Quality Guard Name</label>
            <input type="text" class="form-control" name="qualityGuardName" id="field_qualityGuardName"
            		[(ngModel)]="qualityGuard.qualityGuardName" [ngModelOptions]="{standalone: true}"/>
        </div>
        <div class="form-group">
            <label class="form-control-label" for="field_description">Description</label>
            <textarea rows="5" class="form-control" name="description" id="field_description"
            		[(ngModel)]="qualityGuard.description" [ngModelOptions]="{standalone: true}" ></textarea>
        </div>
        <div class="form-group">
        	<label class="form-control-label">Rules</label>
        	<div formArrayName="rules">
        		<div *ngFor="let rule of form.controls.rules.controls;let i=index;">
        			<div [formGroupName]="i">
        				<div class="form-group" [hidden]="true">
				            <input type="text" class="form-control" id="id" name="id" readonly />
				        </div>
        				<select class="form-control-customize" name="measureField" id="field_measureField" >
			            	<option *ngFor="let gc of guardConditionsbyQualityGuard" [ngValue]="gc.measureField">{{gc.measureField}}</option>			            	
			            </select>
			            <select class="form-control-customize" name="operator" id="field_operator" >
			                <option value="SUPERIOR">SUPERIOR</option>
			                <option value="INFERIOR">INFERIOR</option>
			                <option value="EQUAL">EQUAL</option>
			            </select>
			            <input class="form-control-customize" type="number" name="warningValue" id="field_warningValue" placeholder="Warning Value" />
			        	<input class="form-control-customize" type="number" name="errorValue" id="field_errorValue" placeholder="Error Value" />
        				<span *ngIf="form.controls.rules.controls.length > 1" (click)="removeRule(i)">
        				  <i class="fa fa-trash" style="font-size:2em;" aria-hidden="true" ></i>
	                    </span>
        			</div>
        		</div>
        		<div style="margin-top:.5rem;">
        			<button type="button" class="btn btn-secondary" (click)="addRule()">
			            <span class="fa fa-primary"></span>&nbsp;<span>New Rule</span>
			        </button>
        		</div>
	        </div>
        </div>
        <div class="form-group">
            <label class="form-control-label" for="field_combinationMode">Combination Mode</label>
            <select class="form-control" name="combinationMode" id="field_combinationMode" [(ngModel)]="qualityGuard.combinationMode" [ngModelOptions]="{standalone: true}">
                <option value="OR">OR</option>
                <option value="AND">AND</option>
                <option value="NA">NA</option>
            </select>
        </div>
        <div class="form-group">
            <label class="form-control-label" for="field_intervalAgregation">Analysis Interval Agregation</label>
            <select class="form-control" name="intervalAgregation" id="field_intervalAgregation" >
                <option value="STRICT">STRICT</option>
                <option value="MOY_MIN">MOY_MIN</option>
                <option value="MOY_HH">MOY_HH</option>
                <option value="MOY_DD">MOY_DD</option>
                <option value="MOY_WW">MOY_WW</option>
                <option value="MOY_MM">MOY_MM</option>
            </select>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="clear()">
            <span class="fa fa-ban"></span>&nbsp;<span>Cancel</span>
        </button>
        <button type="submit" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary">
            <span class="fa fa-save"></span>&nbsp;<span>Save</span>
        </button>
    </div>
</form>